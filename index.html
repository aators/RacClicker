<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Raccoon Clicker</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      font-family: 'Georgia', serif;
      color: violet;
      overflow-x: hidden;
    }

    h1 {
      text-align: center;
      font-size: 6em;
      color: red;
      text-shadow: 0 0 20px red;
      margin: 10px 0;
    }

    #raccoon {
      display: block;
      margin: 0 auto;
      width: 300px;
      transition: transform 0.1s ease;
      cursor: pointer;
    }

    #raccoon:active {
      transform: scale(1.1);
    }

    #score {
      font-size: 3em;
      text-align: center;
    }

    .button-bar {
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: #111;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 2px solid violet;
    }

    .bar-button {
      background: #222;
      color: violet;
      border: 2px solid violet;
      border-radius: 10px;
      padding: 10px 20px;
      font-size: 1.2em;
      cursor: pointer;
    }

    .popup {
      display: none;
      position: fixed;
      bottom: 70px;
      left: 50%;
      transform: translateX(-50%);
      background: #111;
      border: 2px solid violet;
      border-radius: 10px;
      padding: 20px;
      color: violet;
      z-index: 100;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 0 20px violet;
      animation: fadein 0.4s;
    }

    @keyframes fadein {
      from { opacity: 0; transform: translate(-50%, 100px); }
      to { opacity: 1; transform: translate(-50%, 0); }
    }

    #wheel {
      width: 250px;
      height: 250px;
      border-radius: 50%;
      border: 8px solid #444;
      margin: 0 auto;
      background: conic-gradient(
        red 0deg 60deg,
        black 60deg 120deg,
        yellow 120deg 180deg,
        red 180deg 240deg,
        black 240deg 300deg,
        yellow 300deg 360deg
      );
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(3600deg); }
    }

    .close-btn {
      background: red;
      border: none;
      color: white;
      font-weight: bold;
      padding: 5px 10px;
      cursor: pointer;
      float: right;
      border-radius: 5px;
    }

    #boost-message {
      text-align: center;
      color: yellow;
      font-size: 1.5em;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>Raccoon Clicker</h1>
  <img id="raccoon" src="https://i.ibb.co/Xx9zLV5N/Hnet-com-image-1.jpg" alt="Raccoon" onclick="clickRaccoon()" />
  <p id="score">Pisteet: <span id="points">0</span></p>
  <p id="boost-message"></p>

  <div class="popup" id="wheelPopup">
    <button class="close-btn" onclick="togglePopup('wheelPopup')">X</button>
    <div id="wheel"></div>
    <button class="bar-button" onclick="spinWheel()">Pyöräytä</button>
    <p id="reward"></p>
  </div>

  <div class="popup" id="inventoryPopup">
    <button class="close-btn" onclick="togglePopup('inventoryPopup')">X</button>
    <p>Kerätyt esineet: (tähän listaus)</p>
  </div>

  <div class="popup" id="cardsPopup">
    <button class="close-btn" onclick="togglePopup('cardsPopup')">X</button>
    <p>Kortit: (tähän kortit ja parannukset)</p>
  </div>

  <div class="popup" id="upgradesPopup">
    <button class="close-btn" onclick="togglePopup('upgradesPopup')">X</button>
    <button class="bar-button" onclick="buyDoubleClick()">Tuplaklikkaus (100p)</button>
    <button class="bar-button" onclick="buyTurboClick()">Tehoklikkaus (250p)</button>
  </div>

  <div class="button-bar">
    <button class="bar-button" onclick="togglePopup('wheelPopup')">Onnenpyörä</button>
    <button class="bar-button" onclick="togglePopup('inventoryPopup')">Varasto</button>
    <button class="bar-button" onclick="togglePopup('cardsPopup')">Kortit</button>
    <button class="bar-button" onclick="togglePopup('upgradesPopup')">Parannukset</button>
  </div>

  <script>
    let score = 0;
    let multiplier = 1;
    let turbo = false;

    function clickRaccoon() {
      let points = multiplier;
      if (turbo) points *= 3;
      score += points;
      document.getElementById("points").textContent = score;

      const sound = new Audio("https://www.soundjay.com/buttons/button-16.mp3");
      sound.play();

      if (turbo) {
        document.getElementById("boost-message").textContent = "Tehoklikkaus päällä!";
        setTimeout(() => document.getElementById("boost-message").textContent = "", 1000);
      }
    }

    function togglePopup(id) {
      const popup = document.getElementById(id);
      popup.style.display = popup.style.display === "block" ? "none" : "block";
    }

    function spinWheel() {
      const wheel = document.getElementById("wheel");
      wheel.style.animation = "spin 4s ease-out";

      const sound = new Audio("https://www.soundjay.com/misc/sounds/spin-1.mp3");
      sound.play();

      setTimeout(() => {
        wheel.style.animation = "none";
        const rewards = ["+10 pistettä", "x2 klikkeri", "Turbo!", "Tyhjä arpa", "x5 boost", "50 pistettä"];
        const result = rewards[Math.floor(Math.random() * rewards.length)];
        document.getElementById("reward").textContent = "Voitit: " + result;

        if (result === "+10 pistettä") score += 10;
        if (result === "50 pistettä") score += 50;
        if (result === "x2 klikkeri") multiplier *= 2;
        if (result === "x5 boost") multiplier *= 5;
        if (result === "Turbo!") turbo = true;

        document.getElementById("points").textContent = score;

        setTimeout(() => turbo = false, 5000);
      }, 4000);
    }

    function buyDoubleClick() {
      if (score >= 100) {
        score -= 100;
        multiplier *= 2;
        alert("Tuplaklikkaus ostettu!");
        document.getElementById("points").textContent = score;
      } else {
        alert("Ei tarpeeksi pisteitä.");
      }
    }

    function buyTurboClick() {
      if (score >= 250) {
        score -= 250;
        turbo = true;
        alert("Tehoklikkaus aktivoitu 5 sekunniksi!");
        document.getElementById("points").textContent = score;
        setTimeout(() => turbo = false, 5000);
      } else {
        alert("Ei tarpeeksi pisteitä.");
      }
    }
  </script>
</body>
</html>
